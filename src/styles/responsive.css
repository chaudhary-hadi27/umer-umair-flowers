/**
 * ENHANCED RESPONSIVE CSS
 * Add this to your global CSS or Tailwind config
 */

/* ============================================
   CUSTOM PROPERTIES FOR RESPONSIVE DESIGN
   ============================================ */
:root {
    /* Safe viewport height for mobile */
    --vh: 1vh;

    /* Fluid spacing scale */
    --space-3xs: clamp(0.25rem, 0.23rem + 0.11vw, 0.31rem);
    --space-2xs: clamp(0.5rem, 0.46rem + 0.22vw, 0.63rem);
    --space-xs: clamp(0.75rem, 0.68rem + 0.33vw, 0.94rem);
    --space-sm: clamp(1rem, 0.91rem + 0.43vw, 1.25rem);
    --space-md: clamp(1.5rem, 1.37rem + 0.65vw, 1.88rem);
    --space-lg: clamp(2rem, 1.83rem + 0.87vw, 2.5rem);
    --space-xl: clamp(3rem, 2.74rem + 1.3vw, 3.75rem);
    --space-2xl: clamp(4rem, 3.65rem + 1.74vw, 5rem);
    --space-3xl: clamp(6rem, 5.48rem + 2.61vw, 7.5rem);

    /* Fluid font sizes */
    --font-size-xs: clamp(0.75rem, 0.7rem + 0.22vw, 0.88rem);
    --font-size-sm: clamp(0.875rem, 0.82rem + 0.26vw, 1rem);
    --font-size-base: clamp(1rem, 0.93rem + 0.33vw, 1.19rem);
    --font-size-lg: clamp(1.125rem, 1.04rem + 0.39vw, 1.38rem);
    --font-size-xl: clamp(1.25rem, 1.14rem + 0.54vw, 1.63rem);
    --font-size-2xl: clamp(1.5rem, 1.33rem + 0.87vw, 2rem);
    --font-size-3xl: clamp(1.875rem, 1.58rem + 1.41vw, 2.63rem);
    --font-size-4xl: clamp(2.25rem, 1.85rem + 2vw, 3.38rem);
    --font-size-5xl: clamp(3rem, 2.35rem + 3.26vw, 5rem);
}

/* ============================================
   SAFE VIEWPORT HEIGHT
   ============================================ */
.min-h-screen-safe {
    min-height: 100vh;
    min-height: calc(var(--vh, 1vh) * 100);
}

.h-screen-safe {
    height: 100vh;
    height: calc(var(--vh, 1vh) * 100);
}

/* ============================================
   TOUCH OPTIMIZATIONS
   ============================================ */
@media (hover: none) and (pointer: coarse) {
    /* Larger touch targets on mobile */
    button,
    a,
    input,
    select,
    textarea {
        min-height: 44px; /* iOS recommended minimum */
        min-width: 44px;
    }

    /* Remove hover effects on touch devices */
    .hover-desktop:hover {
        /* Hover styles won't apply on touch */
    }
}

/* ============================================
   PERFORMANCE OPTIMIZATIONS
   ============================================ */
/* GPU acceleration for animations */
.gpu-accelerate {
    transform: translateZ(0);
    will-change: transform;
}

/* Smooth scrolling with iOS bounce fix */
.smooth-scroll {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
}

/* Prevent iOS zoom on input focus */
@media screen and (max-width: 768px) {
    input[type="text"],
    input[type="number"],
    input[type="email"],
    input[type="tel"],
    input[type="password"],
    textarea,
    select {
        font-size: 16px !important; /* Prevents iOS zoom */
    }
}

/* ============================================
   RESPONSIVE UTILITIES
   ============================================ */
/* Container queries support */
@container (min-width: 400px) {
    .container-query-md {
        /* Styles for containers > 400px */
    }
}

/* Aspect ratio support (fallback for older browsers) */
.aspect-ratio-16-9 {
    aspect-ratio: 16 / 9;
}

@supports not (aspect-ratio: 16 / 9) {
    .aspect-ratio-16-9 {
        position: relative;
        padding-bottom: 56.25%;
    }

    .aspect-ratio-16-9 > * {
        position: absolute;
        inset: 0;
    }
}

/* ============================================
   LOADING STATES
   ============================================ */
.skeleton {
    background: linear-gradient(
            90deg,
            #f0f0f0 25%,
            #e0e0e0 50%,
            #f0f0f0 75%
    );
    background-size: 200% 100%;
    animation: loading 1.5s ease-in-out infinite;
}

@keyframes loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

/* ============================================
   PRINT STYLES
   ============================================ */
@media print {
    .no-print {
        display: none !important;
    }

    body {
        background: white !important;
        color: black !important;
    }
}

/* ============================================
   ACCESSIBILITY
   ============================================ */
/* Focus visible for keyboard navigation */
*:focus-visible {
    outline: 2px solid #9d174d; /* maroon color */
    outline-offset: 2px;
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .text-gray-500 {
        color: #000 !important;
    }

    .border-rose-50 {
        border-color: #000 !important;
    }
}

/* ============================================
   CUSTOM ANIMATIONS
   ============================================ */
@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.animate-float {
    animation: float 3s ease-in-out infinite;
}

@keyframes heart-pop {
    0% { transform: scale(1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

.animate-heart-pop {
    animation: heart-pop 0.3s ease-in-out;
}

/* Slide in from right */
@keyframes slide-in-from-right {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.animate-in.slide-in-from-right {
    animation: slide-in-from-right 0.3s ease-out;
}

/* Fade in */
@keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
}

.animate-in.fade-in {
    animation: fade-in 0.3s ease-out;
}

/* ============================================
   GLASS MORPHISM
   ============================================ */
.glass {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

/* ============================================
   RESPONSIVE GRID SYSTEM
   ============================================ */
.grid-auto-fit {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 300px), 1fr));
    gap: var(--space-md);
}

.grid-auto-fill {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(min(100%, 250px), 1fr));
    gap: var(--space-md);
}

/* ============================================
   SAFE AREA INSETS (for iPhone notch)
   ============================================ */
@supports (padding: max(0px)) {
    .safe-top {
        padding-top: max(env(safe-area-inset-top), 1rem);
    }

    .safe-bottom {
        padding-bottom: max(env(safe-area-inset-bottom), 1rem);
    }

    .safe-left {
        padding-left: max(env(safe-area-inset-left), 1rem);
    }

    .safe-right {
        padding-right: max(env(safe-area-inset-right), 1rem);
    }
}

/* ============================================
   IMAGE OPTIMIZATION
   ============================================ */
img {
    max-width: 100%;
    height: auto;
}

/* Prevent layout shift during image load */
img[width][height] {
    height: auto;
}

/* ============================================
   SCROLLBAR STYLING
   ============================================ */
/* Modern scrollbar for webkit browsers */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #fdf2f8; /* floral */
}

::-webkit-scrollbar-thumb {
    background: #fda4af; /* rose-300 */
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #fb7185; /* rose-400 */
}

/* Firefox scrollbar */
* {
    scrollbar-width: thin;
    scrollbar-color: #fda4af #fdf2f8;
}